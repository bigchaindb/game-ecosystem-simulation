{"remainingRequest":"/Users/jpregelj/eots/frontend/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/jpregelj/eots/frontend/node_modules/iota.lib.js/lib/crypto/curl/curl.js","dependencies":[{"path":"/Users/jpregelj/eots/frontend/node_modules/iota.lib.js/lib/crypto/curl/curl.js","mtime":1517179453000},{"path":"/Users/jpregelj/eots/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/jpregelj/eots/frontend/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["var Converter = require(\"../converter/converter\");\n\n/**\n**      Cryptographic related functions to IOTA's Curl (sponge function)\n**/\n\nvar NUMBER_OF_ROUNDS = 81;\nvar HASH_LENGTH = 243;\nvar STATE_LENGTH = 3 * HASH_LENGTH;\n\nfunction Curl(rounds) {\n    if (rounds) {\n      this.rounds = rounds;\n    } else {\n      this.rounds = NUMBER_OF_ROUNDS;\n    }\n    // truth table\n    this.truthTable = [1, 0, -1, 2, 1, -1, 0, 2, -1, 1, 0];\n}\n\nCurl.HASH_LENGTH = HASH_LENGTH;\n\n/**\n*   Initializes the state with STATE_LENGTH trits\n*\n*   @method initialize\n**/\nCurl.prototype.initialize = function(state, length) {\n\n    if (state) {\n\n        this.state = state;\n\n    } else {\n\n        this.state = [];\n\n        for (var i = 0; i < STATE_LENGTH; i++) {\n\n            this.state[i] = 0;\n\n        }\n    }\n}\n\nCurl.prototype.reset = function() {\n  this.initialize();\n}\n\n/**\n*   Sponge absorb function\n*\n*   @method absorb\n**/\nCurl.prototype.absorb = function(trits, offset, length) {\n\n    do {\n\n        var i = 0;\n        var limit = (length < HASH_LENGTH ? length : HASH_LENGTH);\n\n        while (i < limit) {\n\n            this.state[i++] = trits[offset++];\n        }\n\n        this.transform();\n\n    } while (( length -= HASH_LENGTH ) > 0)\n\n}\n\n/**\n*   Sponge squeeze function\n*\n*   @method squeeze\n**/\nCurl.prototype.squeeze = function(trits, offset, length) {\n\n    do {\n\n        var i = 0;\n        var limit = (length < HASH_LENGTH ? length : HASH_LENGTH);\n\n        while (i < limit) {\n\n            trits[offset++] = this.state[i++];\n        }\n\n        this.transform();\n\n    } while (( length -= HASH_LENGTH ) > 0)\n}\n\n/**\n*   Sponge transform function\n*\n*   @method transform\n**/\nCurl.prototype.transform = function() {\n\n    var stateCopy = [], index = 0;\n\n    for (var round = 0; round < this.rounds; round++) {\n\n        stateCopy = this.state.slice();\n\n        for (var i = 0; i < STATE_LENGTH; i++) {\n\n            this.state[i] = this.truthTable[stateCopy[index] + (stateCopy[index += (index < 365 ? 364 : -365)] << 2) + 5];\n        }\n    }\n}\n\nmodule.exports = Curl\n",null]}